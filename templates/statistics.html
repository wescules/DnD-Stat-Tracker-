{% extends 'layout.html' %}

{% block body %}
<canvas id="chart" width="600" height="400"></canvas>
    <script>
    var colors = [
    "#F7464A", "#46BFBD", "#FDB45C", "#FEDCBA",
    "#ABCDEF", "#DDDDDD", "#ABCABC", "#4169E1",
    "#C71585", "#FF4500", "#FEDCBA", "#46BFBD"]
      var pieData = [
        {% for art in articles %}
          {
            value: {{art.count}},
            label: "{{art.category}}",
            color : colors[Math.floor(Math.random() * colors.length)]
          },
        {% endfor %}
      ];
      // get bar chart canvas
      var mychart = document.getElementById("chart").getContext("2d");
      steps = 10
      max = {{ max }}
      // draw pie chart
      new Chart(document.getElementById("chart").getContext("2d")).Pie(pieData);
    </script>

{% endblock %}
